<div class="container mt-4">

    <div class="card shadow-sm border-0 rounded-4 h-100">
      <img
        *ngIf="event.cover"
        [src]="'data:image/jpeg;base64,' + event.cover"
        class="card-img-top rounded-top-4"
        alt="Event Cover"
        style="object-fit: cover; height: 200px;"
      />

      <div class="card-body d-flex flex-column">
        <h5 class="card-title text-primary fw-bold">{{ event.name }}</h5>

        <p class="card-text text-muted mb-3" style="min-height: 60px;">
          {{ event.description }}
        </p>

        <ul class="list-unstyled small text-muted mb-3">
          <li class="mb-1">
            <i class="bi bi-calendar-event me-2 text-success"></i>
            {{ event.date | date:'medium' }}
          </li>
          <li class="mb-1">
            <i class="bi bi-geo-alt me-2 text-danger"></i>
            {{ event.location }}
          </li>
          <li>
            <i class="bi bi-people-fill me-2 text-info"></i>
            {{ event.participantUserIds?.length || 0 }} Participants
          </li>
        </ul>
        <div class="mb-3 wrap">

          <input ejs-rating id="rating" [value]="event.averageRating" allowReset="true"  (valueChanged)="onRateChange($event)" />
        </div>`

        <button
          class="btn"
          [ngClass]="isJoined() ? 'btn-outline-secondary' : 'btn-outline-primary'"
          [disabled]="isJoined()"
          (click)="joinEvent(event.id)">
          <i class="bi" [ngClass]="isJoined() ? 'bi-check-circle-fill me-1' : 'bi-check-circle me-1'"></i>
          {{ isJoined() ? 'Already Joined' : 'Join Event' }}
        </button>
      </div>
    </div>
  </div>

